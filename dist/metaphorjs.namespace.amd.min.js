define("metaphorjs-namespace",function(){var q=Object.prototype.toString,r=function(){var g={"[object String]":0,"[object Number]":1,"[object Boolean]":2,"[object Object]":3,"[object Function]":4,"[object Array]":5,"[object RegExp]":9,"[object Date]":10};return function(b){if(!b){if(null===b)return 6;if(void 0===b)return 7}var c=g[q.call(b)];return void 0===c?-1:1==c&&isNaN(b)?8:c}}(),p=function(g,b){var c={};g||(g="undefined"!=typeof global?global:window);this.register=function(a,m){var d;d=a;var e=
d.split("."),h,k=e.pop();h=e.join(".");var f=e.length,n,l=g;if(c[h])d=[c[h],k,d];else{if(0<f)for(h=0;h<f;h++){n=e[h];if(b&&0==h)if(n==b){l=g;continue}else d=b+"."+d;void 0===l[n]&&(l[n]={});l=l[n]}else b&&(d=b+"."+d);d=[l,k,d]}e=d[0];k=d[1];null===e||"object"!=typeof e?f=!1:(f=r(e),f=2<f||-1==f);f&&void 0===e[k]&&(e[k]=m,c[d[2]]=m);return m};this.exists=function(a){return void 0!==c[a]};this.get=function(a,m){if(void 0!==c[a])return c[a];if(b&&void 0!==c[b+"."+a])return c[b+"."+a];if(!m){var d=a.split("."),
e,h=d.length,k,f=g;for(e=0;e<h;e++)if(k=d[e],b&&0==e&&k==b)f=g;else{if(void 0===f[k])return;f=f[k]}f&&(c[a]=f);return f}};this.add=function(a,g){b&&0!==a.indexOf(b)&&(a=b+"."+a);void 0===c[a]&&(c[a]=g);return g};this.remove=function(a){delete c[a]};this.normalize=function(a){return a&&b&&0!==a.indexOf(b)?b+"."+a:a}};p.prototype={register:null,exists:null,get:null,add:null,remove:null,normalize:null};return p});
